0. 1.고도화 완료 사항

   > silence가 3초가 넘어가는 부분은 1초로 변환
   > denoising 구현 완료

1. 2.고도화 예정

   > pretrained 사용
   > ~~spectogram -> 다른것~~ : mfcc 사용 : sepctrogram의 na, -inf값 해결 못함.
   > ~~inf, 0, nan으로 변환되는 문제 해결~~ : mfcc 사용
   > ~~dataloader maxlen padding broadcasting으로 진행~~ : torch version 2.0 이상에서만 nested padding지원. server에서는 1.17까지 지원하여, custom padding 부분 작성
   > 모델 아키텍쳐 고도화
   > 데이터 중에서 캐릭터의 갯수가 4개 이하 제거
   > LM Decoder 만들기
   > grad clipping 수정 필요
   > accumulate loss step 작성 필요

2. zip하여 서버에 옮기기

```
$ zip -r Jeon.zip JeonRaDoSikDang

$ scp Jeon.zip kaic2023@101.101.209.54:~/

$ unzip Jeon.zip

```

2. setup.py

   > setup.py 에 의존성 있는 패키지 선언해야 docker생성시 반영됨.
   > glob2 패키지 설치시 오류가 발생하여, JH이 손수 코딩하여 대처함.

3. 명령어

```
$ nova run -d Tr2KB -i -m 36G --shm 12G -e main.py
```

4. ISSUE 1
   > 데이터 하나 프린트해보니. inf로 채워져있음..
   > DataLoader 다시 봐야하겠네..

```
tensor([[[-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         ...,
         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         [-inf, -inf, -inf,  ..., -inf, -inf, -inf]],

        [[-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         ...,
         [0., 0., 0.,  ..., 0., 0., 0.],
         [0., 0., 0.,  ..., 0., 0., 0.],
         [0., 0., 0.,  ..., 0., 0., 0.]],

        [[-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         ...,
         [0., 0., 0.,  ..., 0., 0., 0.],
         [0., 0., 0.,  ..., 0., 0., 0.],
         [0., 0., 0.,  ..., 0., 0., 0.]],

        ...,

        [[nan, nan, nan,  ..., 0., 0., nan],
         [nan, nan, nan,  ..., 0., 0., nan],
         [nan, nan, nan,  ..., 0., 0., nan],
         ...,
         [0., 0., 0.,  ..., 0., 0., 0.],
         [0., 0., 0.,  ..., 0., 0., 0.],
         [0., 0., 0.,  ..., 0., 0., 0.]],

        [[nan, nan, nan,  ..., nan, nan, nan],
         [nan, nan, nan,  ..., nan, nan, nan],
         [nan, nan, nan,  ..., nan, nan, nan],
         ...,
         [0., 0., 0.,  ..., 0., 0., 0.],
         [0., 0., 0.,  ..., 0., 0., 0.],
         [0., 0., 0.,  ..., 0., 0., 0.]],

        [[-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         [-inf, -inf, -inf,  ..., -inf, -inf, -inf],
         ...,
         [0., 0., 0.,  ..., 0., 0., 0.],
         [0., 0., 0.,  ..., 0., 0., 0.],
         [0., 0., 0.,  ..., 0., 0., 0.]]])
----------------------------------------------------------------------------------------------------
tensor([[  1,   3, 430,  ...,   0,   0,   0],
        [  1, 169,  86,  ...,   0,   0,   0],
        [  1,  45,   9,  ...,   2,   0,   0],
        ...,
        [  1,   3, 167,  ...,   0,   0,   0],
        [  1, 702, 486,  ...,   0,   0,   0],
        [  1,   3,   6,  ...,   0,   0,   0]])
----------------------------------------------------------------------------------------------------
tensor([2034, 1986, 1942, 1703, 1590, 1589, 1587, 1436, 1258, 1234, 1157, 1155,
        1073, 1061,  987,  977,  950,  942,  871,  861,  852,  778,  775,  769,
         751,  620,  613,  592,  566,  551,  508,  507,  504,  474,  474,  471,
         442,  433,  422,  358,  352,  321,  314,  301,  274,  273,  257,  223,
         211,  210,  205,  162,  144,  133,  104,  100], dtype=torch.int32)
----------------------------------------------------------------------------------------------------
[151, 119, 172, 134, 119, 92, 122, 174, 103, 93, 109, 88, 81, 89, 86, 84, 91, 69, 71, 79, 74, 58, 68, 72, 74, 70, 53, 47, 59, 47, 47, 36, 45, 48, 50, 50, 50, 54, 29, 38, 32, 20, 36, 29, 37, 25, 23, 14, 16, 21, 16, 13, 11, 15, 6, 9]
----------------------------------------------------------------------------------------------------
TRAINING DATA : seqs : torch.Size([56, 2034, 80])
TRAINING DATA : targets : torch.Size([56, 175])
TRAINING DATA : seq lengths : torch.Size([56])

```
